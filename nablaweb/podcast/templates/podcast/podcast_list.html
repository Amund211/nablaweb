{% extends "base.html" %}
{% load markdown_deux_tags %}
{% load sekizai_tags %}
{% load static %}
{% load thumbnail %}

{% block title %}Skråttcast{% endblock %}
{% block content %}
    {% addtoblock "css" %}
        <link href="{% static "podcast/list.css" %}" rel="stylesheet"/>
        <link href="{% static "podcast/podcast.css" %}" rel="stylesheet"/>
    {% endaddtoblock %}
    <h1>Skråttcast</h1>
    <p>
        {% if info %}
            {{ info.content }}
        {% else %}
            Om <a href="/komite/skrattcast/">Skråttcast</a>.
        {% endif %}
    </p>
    {% if season_name %}
        <h1>{{ season_name }}</h1>
        {% if season.banner %}
        <div class="banner-wrapper">
            <img src="{{ season.banner.url }}"/>
        </div>
        {% endif %}
    {% endif %}
    {% if podcast_list %}
        <div class="list-container">
            <ul>
                {% for podcast in podcast_list %}
                    <li>
                        {% if podcast.image %}
                            <img src="{% thumbnail podcast.image 300x300 box=podcast.cropping quality=95 %}"
                                 alt="{{ podcast.title }}"/>
                        {% endif %}
                        <a href="{{ podcast.get_absolute_url }}">
                            <h2>{{ podcast.title }}</h2>
                            <span>{{ podcast.pub_date }}</span>
                        </a>
                    </li>
                {% endfor %}
            </ul>
        </div>
        <nav>
            <ul class="pager">
                {% if page_obj.has_next %}
                    <li class="previous">
                        <a href="?page={{ page_obj.next_page_number }}"><span aria-hidden="true">&larr;</span> Forrige
                            sesong</a>
                    </li>
                {% endif %}

                <li class="disabled pager-counter">
                    Side {{ page_obj.number }} av {{ page_obj.paginator.num_pages }}
                </li>

                {% if page_obj.has_previous %}
                    <li class="next">
                        <a href="?page={{ page_obj.previous_page_number }}">Neste sesong <span
                                aria-hidden="true">&rarr;</span></a>
                    </li>
                {% endif %}
            </ul>
        </nav>
    {% else %}
        <p>Ingen podcast tilgjengelig.</p>
    {% endif %}
{% endblock %}
{% block sidebar %}
    {% if season.logo %}
    <div class="logo-wrapper">
        <img class="thumbnail" src="{{ season.logo.url }}"/>
    </div>
    {% endif %}
    {% if podcast_clips %}
        <h2>Lydklipp</h2>
        <p>Her finner du nedlastbare overganger, jingler og annet vi føler enhver Skråttcastlytter bør ha tilgang
            til.</p>
        <ul>
            {% for clip in podcast_clips %}
                <li>
                    <a href="{{ clip.get_absolute_url }}">
                        {{ clip.title }}
                    </a>
                </li>
            {% endfor %}
        </ul>
    {% endif %}
{% endblock %}
