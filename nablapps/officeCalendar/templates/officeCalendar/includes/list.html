{% comment %}
Includes as list of OfficeEvents
office_events is a dictionary with weekday as key and a list of events as value
{% endcomment %}
{% load sekizai_tags %}

{% if office_events %}
{% addtoblock "css" %}
<style>
 /* Office calendar */
 
 th {
     border-bottom: 1px solid grey;
     color: grey;
 }

 td {
     padding: 2px 4px;
 }

 tr.event.has_description {
     cursor: help;
 }

 #office_calendar {
     width: 100%;
 }

</style>
{% endaddtoblock %}

<p style="margin: 0"><b>Kontoret denne uka:</b></p>

<table id="office_calendar">
    {% for event in office_events %}
    {% ifchanged event.start_time.date|date:"w" %}
    <tr>
        <th colspan="3">{{ event.start_time|date:"l"|capfirst }}</th>
    </tr>
    {% endifchanged %}

    {% if event.description %}
    <tr title="{{ event.description }}" class="event has_description">
    {% else %}
    <tr class="event">
    {% endif %}
       
        <td>{{ event.start_time|date:"H:i"}}</td>
        <td>{{ event.title }}</td>
        <td>{{ event.duration_natural  }}</td>
    </tr>
    {% endfor %}
</table>
{% endif %}
